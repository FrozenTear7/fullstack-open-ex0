{"version":3,"sources":["components/Person.jsx","components/Persons.jsx","components/Filter.jsx","components/PersonForm.jsx","services/persons.js","components/Notification.jsx","components/App.jsx","index.jsx"],"names":["Person","person","personDeleteOnClick","name","number","type","onClick","Persons","persons","filterName","filter","toLowerCase","includes","map","key","id","Filter","filterOnChange","value","onChange","PersonForm","newName","newNumber","personOnSubmit","nameOnChange","numberOnChange","onSubmit","baseUrl","axios","get","newPerson","post","updatedPerson","put","personId","delete","Notification","errorMessage","message","className","isPositive","App","useState","setPersons","setNewName","setNewNumber","setFilterName","setErrorMessage","setErrorMessageTemp","setTimeout","useEffect","personsService","then","response","data","catch","error","console","log","e","target","preventDefault","existingPerson","find","personDelete","window","confirm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7da3cc0e.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Person = ({ person, personDeleteOnClick }) => {\r\n  return (\r\n    <div>\r\n      {person.name} {person.number}\r\n      <button type=\"button\" onClick={() => personDeleteOnClick(person)}>\r\n        delete\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from \"react\";\r\nimport Person from \"./Person\";\r\n\r\nconst Persons = ({ persons, filterName, personDeleteOnClick }) => (\r\n  <div>\r\n    {persons\r\n      .filter((person) =>\r\n        person.name.toLowerCase().includes(filterName.toLowerCase())\r\n      )\r\n      .map((person) => (\r\n        <Person\r\n          key={person.id}\r\n          person={person}\r\n          personDeleteOnClick={personDeleteOnClick}\r\n        />\r\n      ))}\r\n  </div>\r\n);\r\n\r\nexport default Persons;\r\n","import React from \"react\";\r\n\r\nconst Filter = ({ filterName, filterOnChange }) => (\r\n  <div>\r\n    filter shown with:\r\n    <input value={filterName} onChange={filterOnChange} />\r\n  </div>\r\n);\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = ({\r\n  newName,\r\n  newNumber,\r\n  personOnSubmit,\r\n  nameOnChange,\r\n  numberOnChange,\r\n}) => (\r\n  <form onSubmit={personOnSubmit}>\r\n    <div>\r\n      name:\r\n      <input value={newName} onChange={nameOnChange} />\r\n    </div>\r\n    <div>\r\n      number:\r\n      <input value={newNumber} onChange={numberOnChange} />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n);\r\n\r\nexport default PersonForm;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAllPersons = () => {\r\n  return axios.get(baseUrl);\r\n};\r\n\r\nconst createPerson = (newPerson) => {\r\n  return axios.post(baseUrl, newPerson);\r\n};\r\n\r\nconst updatePerson = (updatedPerson) => {\r\n  return axios.put(`${baseUrl}/${updatedPerson.id}`, updatedPerson);\r\n};\r\n\r\nconst deletePerson = (personId) => {\r\n  return axios.delete(`${baseUrl}/${personId}`);\r\n};\r\n\r\nexport default {\r\n  getAllPersons,\r\n  createPerson,\r\n  updatePerson,\r\n  deletePerson,\r\n};\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ errorMessage }) => {\r\n  if (!errorMessage || !errorMessage.message) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`notification ${\r\n        errorMessage.isPositive ? \"success\" : \"error\"\r\n      }`}\r\n    >\r\n      {errorMessage.message}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Persons from \"./Persons\";\r\nimport Filter from \"./Filter\";\r\nimport PersonForm from \"./PersonForm\";\r\nimport personsService from \"../services/persons\";\r\nimport Notification from \"./Notification\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [filterName, setFilterName] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n\r\n  const setErrorMessageTemp = (message) => {\r\n    setErrorMessage(message);\r\n    setTimeout(() => {\r\n      setErrorMessage(null);\r\n    }, 5000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    personsService\r\n      .getAllPersons()\r\n      .then((response) => {\r\n        setPersons(response.data);\r\n      })\r\n      .catch((error) => {\r\n        setErrorMessageTemp({\r\n          message: `Could not fetch persons`,\r\n          isPositive: false,\r\n        });\r\n        console.log(\"Could not fetch persons\", error);\r\n      });\r\n  }, []);\r\n\r\n  const nameOnChange = (e) => {\r\n    setNewName(e.target.value);\r\n  };\r\n\r\n  const numberOnChange = (e) => {\r\n    setNewNumber(e.target.value);\r\n  };\r\n\r\n  const filterOnChange = (e) => {\r\n    setFilterName(e.target.value);\r\n  };\r\n\r\n  const personOnSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const existingPerson = persons.find((person) => person.name === newName);\r\n\r\n    if (existingPerson) {\r\n      personsService\r\n        .updatePerson({ ...existingPerson, number: newNumber })\r\n        .then(() => {\r\n          setPersons(\r\n            persons.map((person) => {\r\n              if (person.id === existingPerson.id) {\r\n                return { ...person, number: newNumber };\r\n              }\r\n              return person;\r\n            })\r\n          );\r\n          setErrorMessageTemp({\r\n            message: `Successfully updated ${newName}'s number`,\r\n            isPositive: true,\r\n          });\r\n          setNewName(\"\");\r\n          setNewNumber(\"\");\r\n        })\r\n        .catch((error) => {\r\n          error = error.response.data.error;\r\n          setErrorMessageTemp({\r\n            message: `Could not update ${newName}'s number, ${error}`,\r\n            isPositive: false,\r\n          });\r\n          console.log(`Could not update ${newName}'s number, ${error}`);\r\n        });\r\n    } else {\r\n      personsService\r\n        .createPerson({ name: newName, number: newNumber })\r\n        .then((response) => {\r\n          setPersons([...persons, response.data]);\r\n          setErrorMessageTemp({\r\n            message: `Successfully create ${newName}'s number`,\r\n            isPositive: true,\r\n          });\r\n          setNewName(\"\");\r\n          setNewNumber(\"\");\r\n        })\r\n        .catch((error) => {\r\n          error = error.response.data.error;\r\n          setErrorMessageTemp({\r\n            message: `Could not add ${newName}, ${error}`,\r\n            isPositive: false,\r\n          });\r\n          console.log(`Could not add ${newName}, ${error}`);\r\n        });\r\n    }\r\n  };\r\n\r\n  const personDeleteOnClick = (personDelete) => {\r\n    // eslint-disable-next-line no-alert\r\n    if (window.confirm(`Delete ${personDelete.name}`)) {\r\n      personsService\r\n        .deletePerson(personDelete.id)\r\n        .then(() => {\r\n          setPersons(persons.filter((person) => person.id !== personDelete.id));\r\n          setErrorMessageTemp({\r\n            message: `Successfully deleted ${personDelete.name}`,\r\n            isPositive: true,\r\n          });\r\n        })\r\n        .catch((error) => {\r\n          setErrorMessageTemp({\r\n            message: `Could not delete ${personDelete.name}`,\r\n            isPositive: false,\r\n          });\r\n          console.log(`Could not delete ${personDelete.name}`, error);\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Phonebook</h1>\r\n      <Notification errorMessage={errorMessage} />\r\n      <Filter filterName={filterName} filterOnChange={filterOnChange} />\r\n      <h2>Add a new person</h2>\r\n      <PersonForm\r\n        newName={newName}\r\n        newNumber={newNumber}\r\n        personOnSubmit={personOnSubmit}\r\n        nameOnChange={nameOnChange}\r\n        numberOnChange={numberOnChange}\r\n      />\r\n\r\n      <h2>Numbers</h2>\r\n      <Persons\r\n        persons={persons}\r\n        filterName={filterName}\r\n        personDeleteOnClick={personDeleteOnClick}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}